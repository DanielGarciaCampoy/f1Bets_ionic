<body color-theme="dark">
  <ion-app>
    <ion-header [translucent]="true">
      <ion-toolbar>
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-title side="start" style="font-size: 2em;" *ngIf="folder=='/login'">{{ 'login.login' | translate }}</ion-title>
              <ion-title side="start" style="font-size: 2em;" *ngIf="folder=='/tabs/home'">{{ 'app.bienvenido' | translate }}</ion-title>
              <ion-title side="start" style="font-size: 2em;" *ngIf="folder=='/tabs/pilotos'">{{ 'app.pilotos' | translate }}</ion-title>
              <ion-title side="start" style="font-size: 2em;" *ngIf="folder=='/tabs/circuitos'">{{ 'app.circuitos' | translate }}</ion-title>
              <ion-title side="start" style="font-size: 2em;" *ngIf="folder=='/tabs/apuestas'">{{ 'app.apuestas' | translate }}</ion-title>
            </ion-col>
            <ion-col style="display: flex; justify-content: flex-end;">
              <ion-item style="height: 40px;" (click)="onLanguage()" button>
                <div class="mitad">
                  <ion-icon name="language-outline"></ion-icon>
                </div>
                <div class="mitad">
                  &nbsp;{{ 'app.idioma' | translate }}
                </div>
              </ion-item>
              <ion-item style="height: 40px;" id="popover-button" button *ngIf="folder!='/login'">
                <div class="mitad">
                  <ion-avatar style="width: 30px; height: auto;"><img src="https://ionicframework.com/docs/img/demos/avatar.svg"></ion-avatar>
                </div>
                <div class="mitad">
                  &nbsp;{{ (user$ | async)?.userName }}&nbsp;({{ (user$ | async)?.betMoney }}â‚¬)
                </div>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
        <!--POPOVER-->
        <ion-popover trigger="popover-button" [dismissOnSelect]="true" side="bottom">
          <ng-template>
            <ion-content>
              <ion-list>
                <ion-item>{{ 'app.sesion' | translate }}</ion-item>
                <ion-item>
                  <ion-grid>
                    <ion-row class="userBtn">
                      <ion-col>
                        <ion-avatar style="width: 50px; height: auto;"><img src="https://ionicframework.com/docs/img/demos/avatar.svg"></ion-avatar>
                      </ion-col>
                      <ion-col size="8">
                        <p style="margin-top: 15%;"><b>{{ (user$ | async)?.userName }}</b></p>
                      </ion-col>
                    </ion-row>
                    <ion-row class="userBtn">
                      <p><b>Email: </b>{{ (user$ | async)?.email }}</p>
                    </ion-row>
                    <ion-row class="userBtn">
                      
                    </ion-row>
                  </ion-grid>
                </ion-item>
                <ion-item [button]="true" [detail]="false" (click)="abrirAjustes()">
                  <ion-icon name="settings-outline" color="white"></ion-icon>
                  <ion-label>&nbsp;&nbsp;<b>{{ 'app.ajustes' | translate }}</b></ion-label>
                </ion-item>
                <ion-item [button]="true" [detail]="false" (click)="logOut()">
                  <ion-icon name="log-out-outline" color="danger"></ion-icon>
                  <ion-label>&nbsp;&nbsp;<b>{{ 'app.cerrarSesion' | translate }}</b></ion-label>
                </ion-item>
              </ion-list>
            </ion-content>
          </ng-template>
        </ion-popover>
        
      </ion-toolbar>
    </ion-header>

    <ion-router-outlet style="margin-top: 60px;"></ion-router-outlet>
  </ion-app>
</body>
